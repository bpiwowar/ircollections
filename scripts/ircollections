/usr/bin/python

# Get a task

import sys
import getopt
import os.path
from xml import xpath
from xml.etree.ElementTree import ElementTree
from os.path import dirname, normpath, join

def main(dir, argv):
    tasksfile=os.path.join(dir, "tasks.xml")
    
    try:                                
        opts, args = getopt.getopt(argv, "hg:d", ["help", "task="])

        for opt,arg in opts:
            if opt in ("-h","--help"):
                usage()
                sys.exit()
    except getopt.GetoptError:           
        usage()                
        sys.exit(2)


    doc = ElementTree(tasksfile)

    for e in doc.findall('//topics'):
        print e.get('id').text

    
if __name__ == "__main__":
    dir=os.path.abspath(os.path.dirname(sys.argv[0]))
    main(dir, sys.argv[1:])
